# PROMPT 1

```python
def get_output_paths(video_path, group_name=None):
    """
    Define a estrutura de pastas:
    Output Root: .../docs/analises/output/NOME_DA_PASTA_INPUT/
    
    Estrutura Interna:
    /raw/NOME_VIDEO/brute_video_NOME.md
    /raw/NOME_VIDEO/brute_audio_NOME.md
    /final/analise_lapidada_NOME.md
    """
    video_path = Path(video_path).resolve()
```
    
---

# PROMPT 2

```python
        prompt_video = """
        ATUE COMO UM ESPECIALISTA EM VISÃO COMPUTACIONAL E ANÁLISE FORENSE.
        
        REGRA CARDINAL: PROIBIDO USAR EMOJIS. NÃO USE EMOJIS EM LUGAR NENHUM.
        REGRA DE DENSIDADE: O OUTPUT DEVE SER EXTREMAMENTE DENSO E TÉCNICO. NÃO RESUMA.
        
        Tarefa: Análise visual frame a frame, cena a cena.
        
        Gere um log técnico BRUTO e EXAUSTIVO contendo:
        1. TIMESTAMPS precisos para cada micro-evento.
        2. DESCRIÇÃO VISUAL PURA: Descreva TUDO que está na tela. Objetos, cores, texturas, iluminação, layout, posicionamento.
        3. MICRO-EXPRESSÕES: Descreva cada movimento facial, olhar, tensão muscular.
        4. OCR COMPLETO: Transcreva TODO e QUALQUER texto que aparecer na tela, por menor que seja.
        5. MUDANÇAS DE CONTEXTO: Detalhe cada corte e transição.
        
        NÃO ANALISE O ÁUDIO AINDA. FOQUE 100% NO VISUAL.
        SEJA PROLIXO. PREFIRA PECAR PELO EXCESSO DE INFORMAÇÃO DO QUE PELA FALTA.
        """
        video_response = generate_content_safe(model, [video_file, prompt_video])
        if video_response:
            full_video_raw += f"## Parte {i+1} - Visual\n{video_response}\n\n"
```

---

# PROMPT 3

```python 
        # 2. Análise de Áudio Bruta (Engenharia de Som / Ouvido Absoluto)
        print("-> Gerando Análise de Áudio Bruta...")
        prompt_audio = """
        ATUE COMO UM ENGENHEIRO DE ÁUDIO E MÚSICO COM OUVIDO ABSOLUTO.
        
        REGRA CARDINAL: PROIBIDO USAR EMOJIS. NÃO USE EMOJIS EM LUGAR NENHUM.
        REGRA DE DENSIDADE: O OUTPUT DEVE SER EXTREMAMENTE DENSO E TÉCNICO. NÃO RESUMA.
        
        Tarefa: Análise auditiva EXAUSTIVA.
        
        Gere um log técnico BRUTO contendo:
        1. TIMESTAMPS precisos.
        2. CAMADAS DE ÁUDIO: Separe e descreva detalhadamente voz, música, SFX, ruídos.
        3. ANÁLISE VOCAL: Tom, timbre, velocidade, pausas, respiração, intenção, emoção.
        4. ANÁLISE MUSICAL: Gênero, instrumentos, ritmo, harmonia, sensação.
        5. TRANSCRIÇÃO: Se possível, transcreva o que é dito.
        
        IGNORE O VISUAL. FOQUE 100% NO QUE SE OUVE.
        """
        audio_response = generate_content_safe(model, [video_file, prompt_audio])
        if audio_response:
            full_audio_raw += f"## Parte {i+1} - Áudio\n{audio_response}\n\n"
```

---

# PROMPT 4

```python
    prompt_final = f"""
    ATUE COMO UM DIRETOR DE CINEMA E ANALISTA DE DADOS SÊNIOR.
    
    REGRA CARDINAL: PROIBIDO USAR EMOJIS. NÃO USE EMOJIS EM LUGAR NENHUM.
    OBJETIVO: Criar um relatório EXTREMAMENTE DETALHADO que combine os dados visuais e auditivos.
    
    INPUTS:
    --- INICIO RELATÓRIO VISUAL ---
    {full_video_raw[:50000]} 
    --- FIM RELATÓRIO VISUAL ---
    
    --- INICIO RELATÓRIO ÁUDIO ---
    {full_audio_raw[:50000]}
    --- FIM RELATÓRIO ÁUDIO ---
    
    TAREFA:
    1. CONSOLIDAÇÃO: Una os dados visuais e auditivos em uma linha do tempo única e detalhada.
    2. DENSIDADE MÁXIMA: NÃO RESUMA. O usuário precisa de TODOS os detalhes técnicos capturados nos logs brutos.
    3. NARRATIVA TÉCNICA: Descreva a experiência completa minuto a minuto, segundo a segundo.
    4. ANÁLISE CRÍTICA: Aponte falhas, acertos, dissonâncias entre áudio e vídeo.
    
    O RELATÓRIO DEVE SER LONGO, DETALHADO E TÉCNICO. NÃO OMITA NADA.
    """
```